#!/usr/bin/env php
<?php

declare(strict_types=1);

use JBSNewMedia\BootstrapBundle\Command\CompileCommand;
use JBSNewMedia\BootstrapBundle\Command\InitCommand;
use Symfony\Component\Console\Application;

$autoload = dirname(__DIR__).'/vendor/autoload.php';
if (!is_file($autoload)) {
    fwrite(STDERR, "Dependencies are missing. Run 'composer install' first.\n");
    exit(1);
}

require $autoload;

$application = new Application('JBSNewMedia Bootstrap Compiler');
$application->add(new CompileCommand());
$application->add(new InitCommand());
// Make it convenient to call without the command name
$application->setDefaultCommand('bootstrap:compile', true);

exit($application->run());
